<div class="container my-4" *ngIf="!isLoading && userDetails">
  <div class="text-center mb-4">
    <h2>Información de Usuario</h2>
  </div>

  <!-- ADMIN -->
  <div *ngIf="role === 'admin'" class="shadow p-4 rounded bg-white">
    <h4 class="mb-3">Administrador</h4>
    <div class="row">
      <div class="col-md-6">
        <p><strong>Usuario:</strong> {{ userDetails.user?.email }}</p>
      </div>
      <div class="col-md-6">
        <p><strong>Nombre:</strong> {{ userDetails.name }}</p>
      </div>
    </div>
  </div>

  <!-- CANDIDATE -->
  <div *ngIf="role === 'candidate'" class="shadow p-4 rounded bg-white">
    <h4 class="mb-3">Candidato</h4>
    <div class="row">
      <div class="col-md-6">
        <p><strong>Usuario:</strong> {{ userDetails.user?.email }}</p>
        <p><strong>Nombre:</strong> {{ userDetails.name }}</p>
        <p><strong>Dirección:</strong> {{ userDetails.address }}</p>
        <p><strong>Experiencia:</strong> {{ userDetails.experience }}</p>
      </div>
      <div class="col-md-6">
        <p><strong>Teléfono:</strong> {{ userDetails.phone }}</p>
         <p>
          <strong>Fecha de nacimiento:</strong>
          {{ userDetails.birthDate | date : "dd/MM/yyyy" }}
        </p>
        <p><strong>Currículum:</strong> {{ userDetails.resume }}</p>
        <p><strong>Habilidades:</strong> {{ userDetails.skills }}</p>
      </div>
    </div>
  </div>

  <!-- COMPANY -->
  <div *ngIf="role === 'company'" class="shadow p-4 rounded bg-white">
    <h4 class="mb-3">Empresa</h4>
    <div class="row">
      <div class="col-md-6">
        <p><strong>Email:</strong> {{ userDetails.user?.email }}</p>
        <p><strong>Nombre de empresa:</strong> {{ userDetails.companyName }}</p>
        <p>
          <strong>Sitio web:</strong>
          <a [href]="userDetails.website" target="_blank">
            {{ userDetails.website }}
          </a>
        </p>
        <p><strong>Dirección:</strong> {{ userDetails.address }}</p>
      </div>
      <div class="col-md-6">
        <p><strong>Teléfono:</strong> {{ userDetails.phone }}</p>
        <p>
          <strong>Descripción:</strong> {{ userDetails.companyDescription }}
        </p>
      </div>
    </div>
  </div>

  <div class="text-end mt-4">
    <button class="btn btn-outline-secondary" (click)="goBack()">
      ← Volver
    </button>
  </div>
</div>

<!-- SPINNER -->
<div
  *ngIf="isLoading"
  class="d-flex flex-column align-items-center justify-content-center mt-5"
>
  <div
    class="spinner-border text-primary"
    role="status"
    style="width: 3rem; height: 3rem"
  >
    <span class="visually-hidden">Cargando...</span>
  </div>
  <p class="mt-3">Cargando perfil...</p>
</div>
