<div class="container my-5">
  <h2 class="text-center mb-4">Crear Nueva Oferta</h2>

  <div class="d-flex justify-content-end mt-4">
    <button class="btn btn-outline-secondary btn-sm" (click)="goBack()">
      ← Volver
    </button>
  </div>

  <div class="card shadow p-4 mt-4">
    <form (ngSubmit)="createOffer()" #ofertaForm="ngForm">
      <div class="mb-3">
        <label for="title" class="form-label">Título</label>
        <input
          type="text"
          class="form-control"
          id="title"
          name="title"
          [(ngModel)]="offerData.title"
          required
        />
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Descripción</label>
        <textarea
          class="form-control"
          id="description"
          name="description"
          rows="3"
          [(ngModel)]="offerData.description"
          required
        ></textarea>
      </div>

      <div class="mb-3">
        <label for="salary" class="form-label">Salario</label>
        <input
          type="text"
          class="form-control"
          id="salary"
          name="salary"
          [(ngModel)]="offerData.salary"
        />
      </div>

      <div class="mb-3">
        <label for="category" class="form-label">Categoría</label>
        <select
          class="form-select"
          id="category"
          name="category"
          [(ngModel)]="offerData.categoryId"
          required
        >
          <option value="" disabled selected>Selecciona una categoría</option>
          <option *ngFor="let cat of categories" [value]="cat.id">
            {{ cat.name }}
          </option>
        </select>
      </div>

      <div class="mb-3">
        <label for="state" class="form-label">Región</label>
        <select
          class="form-select"
          id="state"
          name="state"
          [(ngModel)]="offerData.stateId"
          required
        >
          <option value="" disabled selected>Selecciona una región</option>
          <option *ngFor="let state of states" [value]="state.id">
            {{ state.name }}
          </option>
        </select>
      </div>

      <div class="mb-3">
        <label for="city" class="form-label">Ciudad</label>
        <select
          class="form-select"
          id="city"
          name="city"
          [(ngModel)]="offerData.cityId"
        >
          <option value="" disabled selected>Selecciona una ciudad</option>
          <option *ngFor="let city of cities" [value]="city.id">
            {{ city.name }}
          </option>
        </select>
      </div>

      <div class="mb-3">
        <label for="contract" class="form-label">Tipo de Contrato</label>
        <select
          class="form-select"
          id="contract"
          name="contract"
          [(ngModel)]="offerData.contractId"
        >
          <option value="" disabled selected>Selecciona un contrato</option>
          <option *ngFor="let contract of contracts" [value]="contract.id">
            {{ contract.name }}
          </option>
        </select>
      </div>

      <button
        type="submit"
        class="btn btn-success"
        [disabled]="!ofertaForm.form.valid"
      >
        Publicar Oferta
      </button>
    </form>
  </div>
</div>
